#!/usr/bin/env bash

# Cross-platform Aliases
################################################

# ls, file-ops and movement
alias edit='micro'
alias l='ls -GIOpP'
alias la='ls -lAhFG'
alias ll="exa -a --long --tree --level=2 --header --inode --icons --group-directories-first --sort=name --color=always"
alias lll="exa -a --long --tree --level=5 --header --inode --icons --group-directories-first --sort=name --color=always"
function cdls() {
  cd "$@" && ls -GIOpP
}
alias cd=cdls
alias ss="sudo "
alias c="clear"
alias cs='cheatsheets'

# git
alias gc='git clone'
alias ga="git add ."

# network and comms
alias p8="prettyping -c 5 8.8.8.8"
alias pubkey="pbcopy < ~/.ssh/id_rsa.pub && echo \"Public key copied to pasteboard.\""

# config edits
alias cfgd='code ${DOTDIR}'
alias cfgb='edit ${HOME}/.bashrc'
alias cfga='edit ${DOTDIR}/aliases'
alias cfgf='edit ${DOTDIR}/functions'
alias cfgx='edit ${DOTDIR}/exports'
alias cfgs='edit ${HOME}/.ssh/config'

# docker
alias dils='docker image ls'
alias dcls='docker container ls'
alias dpsa='docker ps -a'
alias dcup='docker compose -f ${DOCKER_FILE_DIR}/docker-compose.yml up -d'
alias dcdn='docker compose -f ${DOCKER_FILE_DIR}/docker-compose.yml stop'
alias dcpull='docker compose -f ${DOCKER_FILE_DIR}/docker-compose.yml pull'
alias dclogs='docker compose -f ${DOCKER_FILE_DIR}/docker-compose.yml logs -tf --tail=50'
alias dtail='docker logs -tf --tail=50'


set_macos_aliases() {
  alias code="/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin/code"
  alias flushdns="dscacheutil -flushcache"
  alias mtr="sudo mtr"
  alias brews="brew search"
  alias brewf="brew info"
  alias brewi="brew install"
  alias brewup="brew update; brew upgrade"
  alias bsl='brew services list'
  alias nano="/opt/homebrew/bin/nano"
  alias tssh="/Applications/Tailscale.app/Contents/MacOS/Tailscale up --ssh"
  alias ssv="ssh git.charm.sh"
  alias python="python3.11"
  alias postg="$/Applications/Postgres.app/Contents/Versions/15/bin/psql -p5432 \"tjsharley\""
}

[[ $(uname) == Darwin ]] &&  set_macos_aliases
